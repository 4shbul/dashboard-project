<!doctype html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>BulWorkspace - Dashboard</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="auth-app" id="authApp">
    <section class="auth-brand">
      <span class="eyebrow">TEAM ACCESS</span>
      <h2>BulWorkspace</h2>
      <p>Sistem manajemen tugas kolaboratif untuk semua karyawan. Setiap akun punya data tugas masing-masing.</p>
    </section>

    <section class="auth-card" id="authCard" data-mode="login">
      <div class="auth-tabs">
        <button type="button" class="auth-tab active" id="showLoginTab">Login</button>
        <button type="button" class="auth-tab" id="showSignupTab">Sign Up</button>
      </div>

      <form id="loginForm" class="auth-form">
        <h3>Masuk Akun</h3>
        <div>
          <label for="loginEmail">Email</label>
          <input id="loginEmail" type="email" placeholder="karyawan@perusahaan.com" required>
        </div>
        <div>
          <label for="loginPassword">Password</label>
          <input id="loginPassword" type="password" minlength="6" placeholder="Minimal 6 karakter" required>
        </div>
        <div class="auth-inline">
          <button type="button" class="auth-link" id="showResetPassword">Lupa password?</button>
        </div>
        <button class="btn primary" type="submit">Login</button>
      </form>

      <form id="resetForm" class="auth-form hidden">
        <h3>Reset Password</h3>
        <div>
          <label for="resetEmail">Email Terdaftar</label>
          <input id="resetEmail" type="email" placeholder="karyawan@perusahaan.com" required>
        </div>
        <div>
          <label for="resetPassword">Password Baru</label>
          <input id="resetPassword" type="password" minlength="6" placeholder="Minimal 6 karakter" required>
        </div>
        <div>
          <label for="resetPasswordConfirm">Konfirmasi Password Baru</label>
          <input id="resetPasswordConfirm" type="password" minlength="6" required>
        </div>
        <div class="auth-inline">
          <button type="button" class="auth-link" id="backToLoginFromReset">Kembali ke login</button>
        </div>
        <button class="btn primary" type="submit">Simpan Password Baru</button>
      </form>

      <form id="signupForm" class="auth-form hidden">
        <h3>Buat Akun Karyawan</h3>
        <div>
          <label for="signupName">Nama Lengkap</label>
          <input id="signupName" placeholder="Contoh: Budi Santoso" required>
        </div>
        <div>
          <label for="signupEmail">Email</label>
          <input id="signupEmail" type="email" placeholder="karyawan@perusahaan.com" required>
        </div>
        <div>
          <label for="signupPassword">Password</label>
          <input id="signupPassword" type="password" minlength="6" placeholder="Minimal 6 karakter" required>
        </div>
        <div>
          <label for="signupPasswordConfirm">Konfirmasi Password</label>
          <input id="signupPasswordConfirm" type="password" minlength="6" required>
        </div>
        <button class="btn primary" type="submit">Buat Akun</button>
      </form>

      <div id="authMessage" class="auth-msg"></div>
    </section>
  </div>

  <div class="shell hidden" id="dashboardApp">
    <header class="hero">
      <div>
        <span class="eyebrow">CREATIVE OPS</span>
        <h1>TaskFlow Studio</h1>
        <p>Workspace modern untuk mengelola pekerjaan Web Developer dan Graphic Designer dengan insight real-time, Kanban, dan laporan WhatsApp.</p>
      </div>
      <div class="hero-right">
        <div class="hero-chip"><b>Waktu Saat Ini</b><br><span id="clock">-</span></div>
        <div class="hero-chip"><b>Tugas Mendesak</b><br><span id="urgentCount">0 tugas prioritas tinggi</span></div>
        <div class="hero-chip"><b>Risiko Deadline</b><br><span id="overdueCount">0 tugas terlambat</span></div>
        <div class="hero-chip"><b>Mode Tampilan</b><br><span id="activeViewText">Table View</span></div>
        <div class="hero-chip">
          <b>User Aktif</b><br><span id="activeUserLabel">-</span><br>
          <button type="button" id="logoutBtn" class="chip-logout">Logout</button>
        </div>
      </div>
    </header>
    <section class="kpi-grid">
      <article class="glass kpi"><h3>Total Tugas</h3><div class="v" id="kpiTotal">0</div></article>
      <article class="glass kpi"><h3>Selesai</h3><div class="v" id="kpiDone">0</div></article>
      <article class="glass kpi"><h3>On Progress</h3><div class="v" id="kpiProgress">0</div></article>
      <article class="glass kpi"><h3>Estimasi Jam</h3><div class="v" id="kpiEstimate">0.0</div></article>
      <article class="glass kpi"><h3>Aktual Jam</h3><div class="v" id="kpiActual">0.0</div></article>
      <article class="glass kpi"><h3>Efisiensi</h3><div class="v" id="kpiEfficiency">-</div></article>
    </section>

    <section class="workspace">
      <aside class="glass side">
        <div class="block">
          <h3>Profil Pengguna</h3>
          <div class="profile-head">
            <div class="profile-avatar" id="profileAvatar">U</div>
            <div>
              <p class="profile-name" id="profileDisplayName">-</p>
              <p class="profile-role" id="profileDisplayRole">Role belum diatur</p>
            </div>
          </div>

          <form id="profileForm" class="f">
            <div>
              <label for="profileName">Nama Lengkap</label>
              <input id="profileName" required>
            </div>
            <div>
              <label for="profileEmail">Email</label>
              <input id="profileEmail" readonly>
            </div>
            <div class="ig-grid">
              <div>
                <label for="profileRole">Role</label>
                <input id="profileRole" placeholder="Contoh: Social Media Specialist">
              </div>
              <div>
                <label for="profileDepartment">Divisi</label>
                <input id="profileDepartment" placeholder="Contoh: Marketing">
              </div>
            </div>
            <div>
              <label for="profilePhone">No. WhatsApp</label>
              <input id="profilePhone" placeholder="Contoh: 0812xxxxxx">
            </div>
            <div>
              <label for="profileBio">Bio Singkat</label>
              <textarea id="profileBio" placeholder="Fokus pekerjaan, tanggung jawab, dan target Anda..."></textarea>
            </div>
            <button class="btn soft" type="submit" id="saveProfileBtn">Simpan Profil</button>
          </form>
          <p class="hint" id="profileSaveStatus">Data profil disimpan per akun dan tetap ada setelah logout.</p>
        </div>

        <div class="block">
          <h2>Tambah Tugas</h2>
          <form id="taskForm" class="f">
            <div>
              <label for="title">Nama Tugas</label>
              <input id="title" required placeholder="Contoh: Desain social media carousel">
            </div>
            <div class="row">
              <div>
                <label for="type">Kategori</label>
                <select id="type">
                  <option value="Web Development">Web Development</option>
                  <option value="Graphic Design">Graphic Design</option>
                </select>
              </div>
              <div>
                <label for="priority">Prioritas</label>
                <select id="priority">
                  <option value="High">High</option>
                  <option value="Medium" selected>Medium</option>
                  <option value="Low">Low</option>
                </select>
              </div>
            </div>
            <div class="row">
              <div>
                <label for="status">Status</label>
                <select id="status">
                  <option value="To Do">To Do</option>
                  <option value="In Progress">In Progress</option>
                  <option value="Review">Review</option>
                  <option value="Done">Done</option>
                </select>
              </div>
              <div>
                <label for="dueDate">Deadline</label>
                <input id="dueDate" type="date">
              </div>
            </div>
            <div class="row">
              <div>
                <label for="estimateHours">Estimasi Jam</label>
                <input id="estimateHours" type="number" min="0" step="0.5" value="1">
              </div>
              <div>
                <label for="actualHours">Jam Aktual</label>
                <input id="actualHours" type="number" min="0" step="0.5" value="0">
              </div>
            </div>
            <div>
              <label for="notes">Catatan</label>
              <textarea id="notes" placeholder="Link referensi, brief, komentar revisi..."></textarea>
            </div>
            <div class="btn-row">
              <button class="btn primary" type="submit">Simpan</button>
              <button class="btn soft" type="button" id="seedDemo">Muat Demo</button>
            </div>
          </form>
        </div>

        <div class="block">
          <h3>Progress Keseluruhan</h3>
          <div class="progress-wrap">
            <div class="progress-head">
              <span>Completion Rate</span>
              <span id="progressText">0%</span>
            </div>
            <div class="bar"><span id="progressBar"></span></div>
          </div>
          <p class="meta" id="progressMeta">Belum ada data tugas.</p>
        </div>

        <div class="block">
          <h3>Laporan WhatsApp Desain</h3>
          <p class="meta" id="reportMeta">Tugas desain: 0/5.</p>
          <div style="display:flex; gap:8px; margin-top:6px;">
            <label class="small" style="display:flex; gap:6px; align-items:center;">
              <input id="doneOnlyReport" type="checkbox" style="width:auto; margin:0;">
              Hanya status Done
            </label>
          </div>
          <div class="preview" id="waPreview">Laporan akan muncul di sini.</div>
          <div class="btn-row" style="margin-top:8px;">
            <button class="btn soft" type="button" id="copyWaReport" disabled>Salin Laporan</button>
            <button class="btn wa" type="button" id="openWaReport" disabled>Kirim ke WA</button>
          </div>
          <p class="hint" id="waStatus">Tambah 5 tugas desain untuk aktifkan report WA.</p>
        </div>

        <div class="block">
          <h3>Instagram Timeline Ideal</h3>
          <p class="meta">Input data performa posting untuk menghitung jam posting terbaik dan rekomendasi timeline mingguan.</p>

          <form id="igForm" class="f" style="margin-top:8px;">
            <div class="ig-grid">
              <div>
                <label for="igDate">Tanggal Post</label>
                <input id="igDate" type="date" required>
              </div>
              <div>
                <label for="igTime">Jam Post</label>
                <input id="igTime" type="time" required>
              </div>
            </div>
            <div class="ig-grid">
              <div>
                <label for="igContentType">Jenis Konten</label>
                <select id="igContentType">
                  <option value="Reels">Reels</option>
                  <option value="Carousel">Carousel</option>
                  <option value="Single Image">Single Image</option>
                  <option value="Story">Story</option>
                </select>
              </div>
              <div>
                <label for="igReach">Reach</label>
                <input id="igReach" type="number" min="1" value="1000" required>
              </div>
            </div>
            <div class="ig-grid">
              <div>
                <label for="igLikes">Likes</label>
                <input id="igLikes" type="number" min="0" value="0">
              </div>
              <div>
                <label for="igComments">Comments</label>
                <input id="igComments" type="number" min="0" value="0">
              </div>
            </div>
            <div class="ig-grid">
              <div>
                <label for="igShares">Shares</label>
                <input id="igShares" type="number" min="0" value="0">
              </div>
              <div>
                <label for="igSaves">Saves</label>
                <input id="igSaves" type="number" min="0" value="0">
              </div>
            </div>

            <div class="btn-row">
              <button class="btn primary" type="submit">Tambah Data IG</button>
              <button class="btn soft" type="button" id="seedIgData">Demo IG</button>
            </div>
            <div class="btn-row">
              <button class="btn danger" type="button" id="clearIgData">Reset Data IG</button>
            </div>
          </form>

          <div class="ig-live-card" id="igRealtimeCard">
            <div class="ig-live-title" id="igRealtimeTitle">Next Upload</div>
            <div class="ig-live-countdown" id="igRealtimeCountdown">--:--:--</div>
            <div class="ig-live-meta" id="igRealtimeMeta">Sinkronisasi timeline sedang menunggu data.</div>
          </div>

          <div class="ig-top" id="igTopSlots">Top slots akan muncul setelah ada data posting.</div>
          <div class="ig-consistency" id="igConsistency">Target konsistensi: 5 posting per minggu.</div>
          <p class="hint" id="igInsights">Belum ada data posting IG.</p>
          <div class="ig-timeline" id="igTimeline"></div>
        </div>

        <div class="block">
          <h3>Data Tools</h3>
          <div class="btn-row">
            <button class="btn soft" type="button" id="exportJson">Export JSON</button>
            <button class="btn soft" type="button" id="importJson">Import JSON</button>
          </div>
          <input id="importFile" type="file" accept=".json,application/json" class="hidden">
          <div class="btn-row" style="margin-top:8px;">
            <button class="btn danger" type="button" id="clearAll">Hapus Semua</button>
          </div>
        </div>
      </aside>

      <main class="glass main">
        <div class="toolbar">
          <input id="searchInput" placeholder="Cari tugas / catatan...">
          <select id="filterType">
            <option value="all">Semua Kategori</option>
            <option value="Web Development">Web Development</option>
            <option value="Graphic Design">Graphic Design</option>
          </select>
          <select id="filterStatus">
            <option value="all">Semua Status</option>
            <option value="To Do">To Do</option>
            <option value="In Progress">In Progress</option>
            <option value="Review">Review</option>
            <option value="Done">Done</option>
          </select>
          <select id="filterPriority">
            <option value="all">Semua Prioritas</option>
            <option value="High">High</option>
            <option value="Medium">Medium</option>
            <option value="Low">Low</option>
          </select>
          <div class="view-switch">
            <button id="tableBtn" class="active" type="button">Table</button>
            <button id="kanbanBtn" type="button">Kanban</button>
          </div>
        </div>

        <div class="insight-grid">
          <article class="insight">
            <h3>Overall Completion</h3>
            <div class="ring" id="doneRing">0%</div>
            <div class="mini-line"><span>Selesai</span><span id="insDone">0</span></div>
            <div class="mini-line"><span>Belum Selesai</span><span id="insPending">0</span></div>
          </article>
          <article class="insight">
            <h3>Kategori Web Dev</h3>
            <div class="mini-line"><span>Total</span><span id="webTotal">0</span></div>
            <div class="mini-line"><span>Done</span><span id="webDone">0</span></div>
            <div class="mini-line"><span>Progress</span><span id="webProgress">0%</span></div>
          </article>
          <article class="insight">
            <h3>Kategori Design</h3>
            <div class="mini-line"><span>Total</span><span id="designTotal">0</span></div>
            <div class="mini-line"><span>Done</span><span id="designDone">0</span></div>
            <div class="mini-line"><span>Progress</span><span id="designProgress">0%</span></div>
          </article>
        </div>

        <section class="task-area">
          <div class="table-wrap" id="tableView">
            <table>
              <thead>
                <tr>
                  <th>Tugas</th>
                  <th>Kategori</th>
                  <th>Prioritas</th>
                  <th>Status</th>
                  <th>Deadline</th>
                  <th>Estimasi</th>
                  <th>Aktual</th>
                  <th>Efisiensi</th>
                  <th>Aksi</th>
                </tr>
              </thead>
              <tbody id="taskBody"></tbody>
            </table>
          </div>
          <div id="kanbanView" class="kanban hidden"></div>
        </section>
      </main>
    </section>
  </div>

  <script src="script.js"></script>
</body>
</html>

